<app-shared-layout
  title="Expenses"
  image="cash-in-hand.png"
  [hideAdd]="(expenses$ | async).length == 0"
  [addIcon]="'add'"
  (addItem)="addExpense()"
  [addText]="'Create Expense'"
  [viewDetails]="viewDetails"
  [smallForm]="false"
  [animationSize]="'full'"
  [formTitle]="panelTitle"
  (closeDetails)="closePanel()"
>
  <ng-container ngProjectAs="table">
    <app-empty-summary
      incompleteText="Some information needed to process expenses have not been defined yet!"
      [infoNotComplete]="(contributionTypes$ | async)?.length == 0"
      [itemsExists]="(expenses$ | async)?.length > 0"
      imageSrc="investments.jpg"
      title="No expenses posted"
      subTitle="You can add new expense for a group or specific member."
      addTitle="Create Expense"
      (addClicked)="addExpense()"
    ></app-empty-summary>

    <div class="main-expense-grid">
      <div *ngFor="let expense of expenses$ | async" class="expenseGrid">
        <div>
          <mat-icon>money</mat-icon>
        </div>
        <div>
          <h3 class="mb-1 registration-title">{{ expense.reason }}</h3>
          <p *ngIf="expense.member" class="text-muted mb-0 name-area">{{ expense.member.name }}</p>
          <p *ngIf="!expense.member" class="text-muted mb-0 name-area">Group Expense</p>
          <p class="text-muted"><small>{{ expense.date | date }}</small></p>
        </div>
        <div class="amount-area">
          <h1 class="registration-title">{{ expense.amount | number }}</h1>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-container ngProjectAs="form">
    <app-add-expense
      [group]="group$ | async"
      [members]="members$ | async"
      [contributionTypes]="contributionTypes$ | async"
    ></app-add-expense>
  </ng-container>
</app-shared-layout>
